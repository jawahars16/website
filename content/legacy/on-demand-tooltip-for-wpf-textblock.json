{"meta":{"published_date":"2014-11-24T00:00:00.000Z","postId":"on-demand-tooltip-for-wpf-textblock","title":"On Demand Tooltip for WPF TextBlock","excerpt":"\t\t\tAccording to MSDN, a tooltip\n\nRepresents a small rectangular pop-up window that displays a brief description of a control’s purpose when the user rests the pointer on the control.\n\nSetting a tooltip is really easy with WPF controls.\n<Button Content=\"Save\"        ToolTip=\"Save the contents\" />\nBut","tags":["text","tooltip","wpf","xaml"],"featuredImage":"https://wpfplayground.files.wordpress.com/2014/11/textbox.png"},"content":"\n\t\t\t\t<p>According to&#xA0;MSDN, a tooltip</p>\n<blockquote>\n<p>Represents a small rectangular pop-up window that displays a brief description of a control&#x2019;s purpose when the user rests the pointer on the control.</p>\n</blockquote>\n<p>Setting a tooltip is really easy with WPF controls.</p>\n<pre><code><br>&lt;Button Content=&quot;Save&quot;<br>        ToolTip=&quot;Save the contents&quot; /&gt;<br><br></code></pre>\n<p>But there are some situations when user want to see tool tip, only when the text is really not readable. Whether the text block size may become smaller, when user re-size the Window. Or the text becomes more lengthy in a text box, where the maximum width of the text box is really less.</p>\n<p><a href=\"https://wpfplayground.files.wordpress.com/2014/11/textblock.png\"><img data-attachment-id=\"447\" data-permalink=\"https://wpfplayground.wordpress.com/2014/11/24/on-demand-tooltip-for-wpf-textblock/textblock/\" data-orig-file=\"https://wpfplayground.files.wordpress.com/2014/11/textblock.png\" data-orig-size=\"230,180\" data-comments-opened=\"1\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\" data-image-title=\"textblock\" data-image-description data-medium-file=\"https://wpfplayground.files.wordpress.com/2014/11/textblock.png?w=230\" data-large-file=\"https://wpfplayground.files.wordpress.com/2014/11/textblock.png?w=230\" src=\"https://wpfplayground.files.wordpress.com/2014/11/textblock.png?w=736\" alt=\"textblock\" srcset=\"https://wpfplayground.files.wordpress.com/2014/11/textblock.png 230w, https://wpfplayground.files.wordpress.com/2014/11/textblock.png?w=150 150w\" sizes=\"(max-width: 230px) 100vw, 230px\"></a><a href=\"https://wpfplayground.files.wordpress.com/2014/11/textbox.png\"><img data-attachment-id=\"448\" data-permalink=\"https://wpfplayground.wordpress.com/2014/11/24/on-demand-tooltip-for-wpf-textblock/textbox/\" data-orig-file=\"https://wpfplayground.files.wordpress.com/2014/11/textbox.png\" data-orig-size=\"278,184\" data-comments-opened=\"1\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\" data-image-title=\"textbox\" data-image-description data-medium-file=\"https://wpfplayground.files.wordpress.com/2014/11/textbox.png?w=278\" data-large-file=\"https://wpfplayground.files.wordpress.com/2014/11/textbox.png?w=278\" src=\"https://wpfplayground.files.wordpress.com/2014/11/textbox.png?w=736\" alt=\"textbox\" srcset=\"https://wpfplayground.files.wordpress.com/2014/11/textbox.png 278w, https://wpfplayground.files.wordpress.com/2014/11/textbox.png?w=150 150w\" sizes=\"(max-width: 278px) 100vw, 278px\"></a></p>\n<p><span id=\"more-441\"></span></p>\n<p>A possible way is to measure the text block / text box with maximum size, which will give you the <a href=\"http://msdn.microsoft.com/en-us/library/system.windows.uielement.desiredsize(v=vs.110).aspx\">DesiredSize</a>. Comparing that size with actual size&#xA0;is the right way to decide whether or not showing the toool tip. The following simple code snippet can do this trick.</p>\n<pre><code><br>        private void ShowTooltipOnDemand()<br>        {<br>            textBox.Measure(new Size(Double.MaxValue, Double.MaxValue));<br>            var width = textBox.DesiredSize.Width;<br><br>            if (textBox.ActualWidth &lt; width)<br>            {<br>                ToolTipService.SetToolTip(textBox, textBox.Text);<br>            }<br>            else<br>            {<br>                ToolTipService.SetToolTip(textBox, null);<br>            }<br>        }<br><br></code></pre>\n<p>This method can&#xA0;be called from SizeChanged and TextChanged event for&#xA0;text box. That will make the text always readable. (For text block, only SizeChanged is enough)</p>\n<p>Happy Coding!!!</p>\n\t\t\t"}