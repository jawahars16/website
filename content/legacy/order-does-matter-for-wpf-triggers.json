{"meta":{"postId":"order-does-matter-for-wpf-triggers","title":"Order does matter for WPFÂ Triggers","excerpt":"\t\t\tWhen applying style for a ListBoxItem, today I come across a weird problem. I have trigger for both Mouse over and Selected. On selected, the item should goLightBlue and Gray on mouse hover. But when user clicks an item, it gets selected. But still the color remains Gray. But when user leaves the","tags":["trigger","wpf","xaml"],"featuredImage":"https://wpfplayground.files.wordpress.com/2014/01/sshot-5.png?w=300","published_date":"2014-01-22T00:00:00.000Z"},"content":"\n\t\t\t\t<p>When applying style for a ListBoxItem, today I come across a weird problem. I have trigger for both Mouse over and Selected. On selected, the item should goLightBlue and Gray on mouse hover. But when user clicks an item, it gets selected. But still the color remains Gray. But when user leaves the mouse, it turns out LightBlue.</p>\n<p><span id=\"more-160\"></span></p>\n<figure data-shortcode=\"caption\" id=\"attachment_161\" aria-describedby=\"caption-attachment-161\"><a href=\"https://wpfplayground.files.wordpress.com/2014/01/sshot-3.png\"><img data-attachment-id=\"161\" data-permalink=\"https://wpfplayground.wordpress.com/2014/01/22/order-does-matter-for-wpf-triggers/sshot-3/\" data-orig-file=\"https://wpfplayground.files.wordpress.com/2014/01/sshot-3.png\" data-orig-size=\"362,236\" data-comments-opened=\"1\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}\" data-image-title=\"ListBox_Hover\" data-image-description data-medium-file=\"https://wpfplayground.files.wordpress.com/2014/01/sshot-3.png?w=300\" data-large-file=\"https://wpfplayground.files.wordpress.com/2014/01/sshot-3.png?w=362\" alt=\"On Mouse hover\" src=\"https://wpfplayground.files.wordpress.com/2014/01/sshot-3.png?w=300&amp;h=195\" width=\"300\" height=\"195\" srcset=\"https://wpfplayground.files.wordpress.com/2014/01/sshot-3.png?w=300&amp;h=195 300w, https://wpfplayground.files.wordpress.com/2014/01/sshot-3.png?w=150&amp;h=98 150w, https://wpfplayground.files.wordpress.com/2014/01/sshot-3.png 362w\" sizes=\"(max-width: 300px) 100vw, 300px\"></a><figcaption id=\"caption-attachment-161\">On Mouse hover</figcaption></figure>\n<figure data-shortcode=\"caption\" id=\"attachment_163\" aria-describedby=\"caption-attachment-163\"><a href=\"https://wpfplayground.files.wordpress.com/2014/01/sshot-4.png\"><img data-attachment-id=\"163\" data-permalink=\"https://wpfplayground.wordpress.com/2014/01/22/order-does-matter-for-wpf-triggers/sshot-4/\" data-orig-file=\"https://wpfplayground.files.wordpress.com/2014/01/sshot-4.png\" data-orig-size=\"362,236\" data-comments-opened=\"1\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}\" data-image-title=\"ListBox_Selected\" data-image-description data-medium-file=\"https://wpfplayground.files.wordpress.com/2014/01/sshot-4.png?w=300\" data-large-file=\"https://wpfplayground.files.wordpress.com/2014/01/sshot-4.png?w=362\" alt=\"On Selected\" src=\"https://wpfplayground.files.wordpress.com/2014/01/sshot-4.png?w=300&amp;h=195\" width=\"300\" height=\"195\" srcset=\"https://wpfplayground.files.wordpress.com/2014/01/sshot-4.png?w=300&amp;h=195 300w, https://wpfplayground.files.wordpress.com/2014/01/sshot-4.png?w=150&amp;h=98 150w, https://wpfplayground.files.wordpress.com/2014/01/sshot-4.png 362w\" sizes=\"(max-width: 300px) 100vw, 300px\"></a><figcaption id=\"caption-attachment-163\">On Selected</figcaption></figure>\n<figure data-shortcode=\"caption\" id=\"attachment_164\" aria-describedby=\"caption-attachment-164\"><a href=\"https://wpfplayground.files.wordpress.com/2014/01/sshot-5.png\"><img data-attachment-id=\"164\" data-permalink=\"https://wpfplayground.wordpress.com/2014/01/22/order-does-matter-for-wpf-triggers/sshot-5/\" data-orig-file=\"https://wpfplayground.files.wordpress.com/2014/01/sshot-5.png\" data-orig-size=\"362,236\" data-comments-opened=\"1\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}\" data-image-title=\"ListBox_SelectedMouseOver\" data-image-description data-medium-file=\"https://wpfplayground.files.wordpress.com/2014/01/sshot-5.png?w=300\" data-large-file=\"https://wpfplayground.files.wordpress.com/2014/01/sshot-5.png?w=362\" alt=\"On Selected and Mouse Over\" src=\"https://wpfplayground.files.wordpress.com/2014/01/sshot-5.png?w=300&amp;h=195\" width=\"300\" height=\"195\" srcset=\"https://wpfplayground.files.wordpress.com/2014/01/sshot-5.png?w=300&amp;h=195 300w, https://wpfplayground.files.wordpress.com/2014/01/sshot-5.png?w=150&amp;h=98 150w, https://wpfplayground.files.wordpress.com/2014/01/sshot-5.png 362w\" sizes=\"(max-width: 300px) 100vw, 300px\"></a><figcaption id=\"caption-attachment-164\">On Selected and Mouse Over (Our real problem)</figcaption></figure>\n<p>When I look into ListBoxItem Style, I could see that Mouse Over trigger added last, whereas Selected trigger came first. WPF will take the last trigger as high priority. Since we are changing the same property, the trigger which resolved last will set the property. And that is the reason the background looks gray. When I changed the style, looks like below, everything started working fine.</p>\n<pre><code><br>     &lt;Style TargetType=&quot;ListBoxItem&quot;&gt;<br>        &lt;Setter Property=&quot;Template&quot;&gt;<br>            &lt;Setter.Value&gt;<br>                &lt;ControlTemplate TargetType=&quot;ListBoxItem&quot;&gt;<br>                    &lt;Grid&gt;<br>                        &lt;Rectangle Fill=&quot;{TemplateBinding Background}&quot; /&gt;<br>                        &lt;ContentPresenter Margin=&quot;10&quot; /&gt;<br>                    &lt;/Grid&gt;<br>                &lt;/ControlTemplate&gt;<br>            &lt;/Setter.Value&gt;<br>        &lt;/Setter&gt;<br>        &lt;Style.Triggers&gt;<br>            &lt;Trigger Property=&quot;IsMouseOver&quot;<br>                        Value=&quot;True&quot;&gt;<br>                &lt;Setter Property=&quot;Background&quot;<br>                        Value=&quot;Gray&quot; /&gt;<br>            &lt;/Trigger&gt;<br>            &lt;Trigger Property=&quot;IsSelected&quot;<br>                        Value=&quot;True&quot;&gt;<br>                &lt;Setter Property=&quot;Background&quot;<br>                        Value=&quot;LightBlue&quot; /&gt;<br>            &lt;/Trigger&gt;<br>        &lt;/Style.Triggers&gt;<br>    &lt;/Style&gt;<br><br></code></pre>\n\t\t\t"}