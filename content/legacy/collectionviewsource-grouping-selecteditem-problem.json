{"meta":{"featuredImage":"https://wpfplayground.files.wordpress.com/2014/03/groupingdemo.png","published_date":"2014-03-08T00:00:00.000Z","postId":"collectionviewsource-grouping-selecteditem-problem","title":"CollectionViewSource Grouping SelectedItemÂ Problem","excerpt":"\t\t\tToday I just came across a problem in ListBox, probably with all Selectors. When you bind a CollectionView object which has GroupDescriptions added as below, the first item of Selector will set to be selected by default without user interaction.\n<CollectionViewSource x:Key=\"source\" Source=\"{Bindi","tags":["binding","collectionview","GroupDescriptions","grouping","listbox","selected item","wpf"]},"content":"\n\t\t\t\t<p>Today I just came across a problem in ListBox, probably with all Selectors. When you bind a CollectionView object which has GroupDescriptions added as below, the first item of Selector will set to be selected by default without user interaction.</p>\n<pre><code>&lt;CollectionViewSource x:Key=&quot;source&quot; Source=&quot;{Binding}&quot;&gt;<br>    &lt;CollectionViewSource.GroupDescriptions&gt;<br>        &lt;PropertyGroupDescription PropertyName=&quot;Genre&quot;/&gt;<br>    &lt;/CollectionViewSource.GroupDescriptions&gt;<br>&lt;/CollectionViewSource&gt;<br></code></pre>\n<p><span id=\"more-239\"></span></p>\n<p>The grouped source bound to ListBox in following way,</p>\n<pre><code>&lt;ListBox ItemsSource=&quot;{Binding Source={StaticResource source}}&quot;<br>         DisplayMemberPath=&quot;Name&quot;&gt;<br>    &lt;ListBox.GroupStyle&gt;<br>        &lt;GroupStyle&gt;<br>            &lt;GroupStyle.HeaderTemplate&gt;<br>                &lt;DataTemplate&gt;<br>                    &lt;TextBlock Text=&quot;{Binding Name}&quot;/&gt;<br>                &lt;/DataTemplate&gt;<br>            &lt;/GroupStyle.HeaderTemplate&gt;<br>        &lt;/GroupStyle&gt;<br>    &lt;/ListBox.GroupStyle&gt;<br>&lt;/ListBox&gt;<br></code></pre>\n<p>In this case, the first item of ListBox will be selected by default without user interaction.</p>\n<p><a href=\"https://wpfplayground.files.wordpress.com/2014/03/groupingdemo.png\"><img data-attachment-id=\"250\" data-permalink=\"https://wpfplayground.wordpress.com/2014/03/08/collectionviewsource-grouping-selecteditem-problem/groupingdemo/\" data-orig-file=\"https://wpfplayground.files.wordpress.com/2014/03/groupingdemo.png\" data-orig-size=\"418,272\" data-comments-opened=\"1\" data-image-meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}\" data-image-title=\"groupingdemo\" data-image-description data-medium-file=\"https://wpfplayground.files.wordpress.com/2014/03/groupingdemo.png?w=300\" data-large-file=\"https://wpfplayground.files.wordpress.com/2014/03/groupingdemo.png?w=418\" alt=\"groupingdemo\" src=\"https://wpfplayground.files.wordpress.com/2014/03/groupingdemo.png?w=736\" srcset=\"https://wpfplayground.files.wordpress.com/2014/03/groupingdemo.png 418w, https://wpfplayground.files.wordpress.com/2014/03/groupingdemo.png?w=150 150w, https://wpfplayground.files.wordpress.com/2014/03/groupingdemo.png?w=300 300w\" sizes=\"(max-width: 418px) 100vw, 418px\"></a></p>\n<p>This clearly seems to be an unwanted behavior, probably an issue. <a href=\"http://joshsmithonwpf.wordpress.com/about/\">Josh Smith</a> in his <a href=\"http://joshsmithonwpf.wordpress.com/2008/09/18/the-initially-selected-item-when-binding-to-a-grouped-icollectionview/\">blog</a>, explained a solution for this problem. But it is not so straightforward. Instead of that setting the <strong>IsSynchronizedWithCurrentItem to false</strong> will solve the problem.</p>\n<pre><code>&lt;ListBox ItemsSource=&quot;{Binding Source={StaticResource source}}&quot;<br>         IsSynchronizedWithCurrentItem=&quot;False&quot;<br>         DisplayMemberPath=&quot;Name&quot;&gt;<br>    &lt;ListBox.GroupStyle&gt;<br>        &lt;GroupStyle&gt;<br>            &lt;GroupStyle.HeaderTemplate&gt;<br>                &lt;DataTemplate&gt;<br>                    &lt;TextBlock Text=&quot;{Binding Name}&quot;/&gt;<br>                &lt;/DataTemplate&gt;<br>            &lt;/GroupStyle.HeaderTemplate&gt;<br>        &lt;/GroupStyle&gt;<br>    &lt;/ListBox.GroupStyle&gt;<br>&lt;/ListBox&gt;<br></code></pre>\n\t\t\t"}